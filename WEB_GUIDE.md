# 自動打卡系統 Web 介面使用指南

## 概述

這個 Web 介面讓你可以透過瀏覽器來管理自動打卡系統，包括：

- 設定打卡時間
- 手動執行打卡
- 查看打卡狀態和記錄
- 查看系統日誌

## 安裝和啟動

### 1. 安裝依賴套件

```bash
pip install -r requirements.txt
```

### 2. 啟動 Web 介面

有兩種方式啟動：

#### 方式一：使用啟動腳本（推薦）

```bash
python start_web.py
```

#### 方式二：直接啟動

```bash
python app.py
```

### 3. 開啟瀏覽器

在瀏覽器中開啟：http://localhost:5001

## 功能說明

### 1. 打卡時間設定

在首頁的「打卡時間設定」區域，你可以：

- **上班時間**：設定每日上班打卡時間
- **午休下班時間**：設定午休開始時間
- **午休上班時間**：設定午休結束時間
- **下班時間**：設定每日下班打卡時間
- **啟用自動打卡**：勾選後會啟用自動打卡功能

設定完成後點擊「儲存設定」按鈕。

### 2. 手動打卡

在「手動打卡」區域，你可以：

- **上班打卡**：立即執行上班打卡
- **午休下班**：立即執行午休下班打卡
- **午休上班**：立即執行午休上班打卡
- **下班打卡**：立即執行下班打卡

每個按鈕都會彈出確認對話框，確認後才會執行。

### 3. 打卡狀態

「今日打卡狀態」區域會顯示：

- **當前狀態**：顯示你目前的打卡狀態
  - 🟡 尚未打卡
  - 🟢 已上班
  - 🔵 已下班
- **今日工時**：計算今日總工作時間
- **打卡記錄**：顯示今日所有打卡記錄的詳細表格

### 4. 系統日誌

- **最近日誌**：首頁底部顯示最近 10 條日誌
- **完整日誌**：點擊「查看完整日誌」查看所有日誌記錄

## 頁面功能

### 首頁 (http://localhost:5001)

- 打卡時間設定
- 手動打卡操作
- 打卡狀態顯示
- 最近日誌預覽

### 日誌頁面 (http://localhost:5001/logs)

- 完整的系統日誌
- 自動重新整理（每 30 秒）
- 手動重新整理按鈕

## 技術特性

### 響應式設計

- 支援桌面和行動裝置
- 自適應佈局
- 觸控友善的介面

### 即時更新

- 打卡狀態每 30 秒自動更新
- 即時顯示操作結果
- 動態載入狀態

### 錯誤處理

- 友善的錯誤訊息
- 網路連線狀態監控
- 自動重試機制

## 安全注意事項

1. **本地網路**：預設只允許本地存取 (localhost)
2. **生產環境**：如需對外開放，請修改 `app.py` 中的設定
3. **密碼保護**：建議在生產環境中加入身份驗證

## 故障排除

### 常見問題

1. **無法啟動 Web 介面**

   - 檢查是否已安裝 Flask：`pip install Flask`
   - 檢查 port 5001 是否被占用

2. **打卡功能無法使用**

   - 檢查 `config.py` 設定是否正確
   - 確認網路連線正常
   - 查看系統日誌了解錯誤原因

3. **頁面顯示異常**

   - 清除瀏覽器快取
   - 檢查瀏覽器控制台是否有 JavaScript 錯誤

### 日誌檔案

- `attendance_log.txt`：打卡操作日誌
- `schedule_config.json`：打卡時間設定檔案

## 進階設定

### 修改預設設定

編輯 `app.py` 檔案中的預設設定：

```python
# 預設設定
return {
    "check_in_time": "08:45",
    "lunch_out_time": "12:00",
    "lunch_in_time": "13:00",
    "check_out_time": "17:46",
    "enabled": True
}
```

### 自定義樣式

修改 `static/css/style.css` 檔案來自定義外觀。

### 添加新功能

在 `app.py` 中添加新的路由和功能。

## 支援

如有問題，請檢查：

1. 系統日誌檔案
2. 瀏覽器開發者工具
3. 終端機輸出訊息

---

**注意**：這個 Web 介面是為了方便管理自動打卡系統而設計的。請確保在安全的環境中使用，並定期備份設定檔案。
